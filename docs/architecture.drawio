<mxfile host="app.diagrams.net" modified="2025-01-19T00:00:00.000Z" agent="Claude" version="22.1.0">
  <diagram id="data-reply-architecture" name="Data Reply Platform Architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Data Reply Agentic Platform - Technical Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- User Layer -->
        <mxCell id="user-layer" value="Users" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="1520" height="100" as="geometry" />
        </mxCell>
        <mxCell id="user-da" value="Data Architects" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="user-layer">
          <mxGeometry x="200" y="20" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="user-de" value="Data Engineers" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="user-layer">
          <mxGeometry x="400" y="20" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="user-ba" value="Business Analysts" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="user-layer">
          <mxGeometry x="600" y="20" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="user-dev" value="Developers (API)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="user-layer">
          <mxGeometry x="800" y="20" width="30" height="60" as="geometry" />
        </mxCell>

        <!-- Frontend Layer -->
        <mxCell id="frontend-layer" value="Frontend (Vercel)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="40" y="200" width="1520" height="140" as="geometry" />
        </mxCell>
        <mxCell id="nextjs" value="Next.js 15 (App Router)&#xa;React 19 + TypeScript" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="frontend-layer">
          <mxGeometry x="60" y="30" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pages" value="Pages&#xa;• /overview (Dashboard)&#xa;• /sources&#xa;• /rules&#xa;• /lineage&#xa;• /api/docs (Swagger)" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="frontend-layer">
          <mxGeometry x="250" y="20" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="components" value="UI Components&#xa;• TanStack Query&#xa;• Recharts&#xa;• React Flow&#xa;• Tailwind CSS" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="frontend-layer">
          <mxGeometry x="460" y="20" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="api-routes" value="API Routes&#xa;/api/v1/datasets&#xa;/api/v1/quality-scores&#xa;/api/v1/alerts&#xa;/api/openlineage" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="frontend-layer">
          <mxGeometry x="650" y="20" width="180" height="100" as="geometry" />
        </mxCell>

        <!-- API Gateway -->
        <mxCell id="apigw" value="AWS API Gateway" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="500" y="360" width="200" height="40" as="geometry" />
        </mxCell>

        <!-- AI Agents Layer -->
        <mxCell id="agents-layer" value="AI Agents (Strands SDK)" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="40" y="420" width="740" height="200" as="geometry" />
        </mxCell>
        <mxCell id="profiler-agent" value="Data Profiler Agent&#xa;&#xa;Tools:&#xa;• profile_table()&#xa;• detect_anomalies()&#xa;• infer_types()&#xa;&#xa;ECS Fargate" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="agents-layer">
          <mxGeometry x="40" y="30" width="200" height="150" as="geometry" />
        </mxCell>
        <mxCell id="dq-agent" value="DQ Recommender Agent&#xa;&#xa;Tools:&#xa;• generate_rule()&#xa;• apply_template()&#xa;• suggest_remediation()&#xa;&#xa;Lambda + Bedrock" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="agents-layer">
          <mxGeometry x="270" y="30" width="200" height="150" as="geometry" />
        </mxCell>
        <mxCell id="lineage-agent" value="Lineage Agent&#xa;&#xa;Tools:&#xa;• parse_sql_lineage()&#xa;• get_downstream_impact()&#xa;• emit_openlineage()&#xa;&#xa;Lambda + SQLGlot" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="agents-layer">
          <mxGeometry x="500" y="30" width="200" height="150" as="geometry" />
        </mxCell>

        <!-- AWS Services Layer -->
        <mxCell id="aws-layer" value="AWS Services" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="800" y="420" width="760" height="200" as="geometry" />
        </mxCell>
        <mxCell id="bedrock" value="Amazon Bedrock&#xa;(Claude 3.5 Sonnet)&#xa;&#xa;• Rule generation&#xa;• NL to DQDL&#xa;• Reasoning" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="aws-layer">
          <mxGeometry x="40" y="30" width="160" height="150" as="geometry" />
        </mxCell>
        <mxCell id="step-functions" value="Step Functions&#xa;&#xa;• Validation workflow&#xa;• Human approval&#xa;• Error handling" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="aws-layer">
          <mxGeometry x="220" y="30" width="160" height="150" as="geometry" />
        </mxCell>
        <mxCell id="glue" value="AWS Glue DQ&#xa;&#xa;• DQDL execution&#xa;• Schema validation&#xa;• Data Catalog" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="aws-layer">
          <mxGeometry x="400" y="30" width="160" height="150" as="geometry" />
        </mxCell>
        <mxCell id="eventbridge" value="EventBridge&#xa;&#xa;• Alert routing&#xa;• Scheduled jobs&#xa;• Event bus" style="rounded=1;whiteSpace=wrap;html=1;align=left;spacingLeft=10;" vertex="1" parent="aws-layer">
          <mxGeometry x="580" y="30" width="160" height="150" as="geometry" />
        </mxCell>

        <!-- Lambda Functions -->
        <mxCell id="lambdas-layer" value="Lambda Functions" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="40" y="640" width="1520" height="120" as="geometry" />
        </mxCell>
        <mxCell id="validator-lambda" value="validator&#xa;Glue DQ executor" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="60" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="alert-handler" value="alert_handler&#xa;EventBridge events" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="230" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="freshness-lambda" value="freshness_monitor&#xa;Volume anomalies" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="400" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="slack-lambda" value="slack_notifier&#xa;Slack webhooks" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="570" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="email-lambda" value="email_notifier&#xa;SES emails" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="740" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lineage-extractor" value="lineage_extractor&#xa;Query log parsing" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="910" y="30" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="openlineage-consumer" value="openlineage_consumer&#xa;External events" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="lambdas-layer">
          <mxGeometry x="1080" y="30" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- Data Sources Layer -->
        <mxCell id="sources-layer" value="Data Sources" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="780" width="760" height="120" as="geometry" />
        </mxCell>
        <mxCell id="athena" value="Amazon Athena&#xa;(S3/Iceberg)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="sources-layer">
          <mxGeometry x="80" y="25" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="redshift" value="Amazon Redshift" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="sources-layer">
          <mxGeometry x="240" y="25" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="s3" value="S3 Data Lake&#xa;(Iceberg tables)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="sources-layer">
          <mxGeometry x="400" y="25" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="glue-catalog" value="Glue Data Catalog" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="sources-layer">
          <mxGeometry x="560" y="25" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Metadata Store -->
        <mxCell id="metadata-layer" value="Metadata Store" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="820" y="780" width="740" height="120" as="geometry" />
        </mxCell>
        <mxCell id="supabase" value="Supabase (PostgreSQL)&#xa;&#xa;Tables: data_sources, profiles, column_profiles,&#xa;dq_rules, validation_results, alerts,&#xa;lineage_nodes, lineage_edges, quality_scores" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;align=left;spacingLeft=10;" vertex="1" parent="metadata-layer">
          <mxGeometry x="40" y="15" width="660" height="90" as="geometry" />
        </mxCell>

        <!-- External Integrations -->
        <mxCell id="external-layer" value="External Integrations" style="swimlane;horizontal=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="920" width="1520" height="100" as="geometry" />
        </mxCell>
        <mxCell id="slack" value="Slack" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="external-layer">
          <mxGeometry x="100" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="email" value="Email (SES)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="external-layer">
          <mxGeometry x="240" y="30" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="openlineage" value="OpenLineage&#xa;(Airflow, Spark, dbt)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="external-layer">
          <mxGeometry x="380" y="30" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="rest-api" value="REST API&#xa;Consumers" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="external-layer">
          <mxGeometry x="560" y="30" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Module Labels -->
        <mxCell id="module1-label" value="MODULE 1: Data Lineage &amp; Quality (v1 Complete)" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1040" width="500" height="30" as="geometry" />
        </mxCell>
        <mxCell id="module2-label" value="MODULE 2: Data Modelling (v2 Planned)" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="560" y="1040" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="module3-label" value="MODULE 3: Scripts Conversion (v2 Planned)" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="880" y="1040" width="300" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>